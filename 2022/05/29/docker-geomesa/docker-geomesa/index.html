<!DOCTYPE html><html class="appearance-dark" lang="en"><head><meta charset="UTF-8"><title>Docker-Geomesa-HBase</title><meta name="description" content="吾生也有涯，而知也无涯。"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="
HBaseHBase安装
 略

HBase单机配置在 HBase单机模式下，我们需要配置 Java环境变量，启动内置的 Zookeeper
在Hbase中配置 Java环境变量
JAVA_HOME


echo $JAVA_HOME
我的 ： /usr/lib/jvm/java-8-openjdk-amd64


修改Hbase的配置


在 HBase的文件目录下，conf文件夹中放的是配置文件
我的：/usr/local/hbase-2.2.7/conf
vim /usr/local/hbase-2.2.7/conf/hbase-env.sh
第一项：
/usr/lib/jvm/java-1.8.0-openjdk-amd64

第二项：



生效


source /usr/local/hbas.."><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">bingxue-Gu's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Docker-Geomesa-HBase</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#HBase"><span class="toc-text">HBase</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#HBase%E5%AE%89%E8%A3%85"><span class="toc-text">HBase安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HBase%E5%8D%95%E6%9C%BA%E9%85%8D%E7%BD%AE"><span class="toc-text">HBase单机配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8Hbase%E4%B8%AD%E9%85%8D%E7%BD%AE-Java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">在Hbase中配置 Java环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8-etc-profile%E6%96%87%E4%BB%B6%E4%B8%AD%E9%85%8D%E7%BD%AE"><span class="toc-text">在&#x2F;etc&#x2F;profile文件中配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81"><span class="toc-text">验证</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Geomesa"><span class="toc-text">Geomesa</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Geomesa%E5%AE%89%E8%A3%85"><span class="toc-text">Geomesa安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Geomesa%E9%85%8D%E7%BD%AE"><span class="toc-text">Geomesa配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8Geomesa%E4%B8%AD%E9%85%8D%E7%BD%AEHBase%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">在Geomesa中配置HBase环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8-etc-profile%E6%96%87%E4%BB%B6%E4%B8%AD%E9%85%8D%E7%BD%AE-1"><span class="toc-text">在&#x2F;etc&#x2F;profile文件中配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E5%A4%96%E9%83%A8%E7%8E%AF%E5%A2%83%E4%B8%AD%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">在外部环境中配置环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81-1"><span class="toc-text">验证</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95geomesa-tutorials"><span class="toc-text">测试geomesa-tutorials</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD-amp-%E7%BC%96%E8%AF%91geomesa-tutorials"><span class="toc-text">下载&amp;编译geomesa-tutorials</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="toc-text">运行程序</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/data"><i class="tag post-item-tag">data</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">Docker-Geomesa-HBase</h1><time class="has-text-grey" datetime="2022-05-29T10:24:32.000Z">2022-05-29</time><article class="mt-2 post-content"><p><img src="/img/yan.jpg" alt="yan"></p>
<h1 id="HBase"><a href="#HBase" class="headerlink" title="HBase"></a>HBase</h1><h2 id="HBase安装"><a href="#HBase安装" class="headerlink" title="HBase安装"></a>HBase安装</h2><blockquote>
<p> 略</p>
</blockquote>
<h2 id="HBase单机配置"><a href="#HBase单机配置" class="headerlink" title="HBase单机配置"></a>HBase单机配置</h2><p>在 HBase单机模式下，我们需要配置 <strong>Java环境变量</strong>，<strong>启动内置的 Zookeeper</strong></p>
<h3 id="在Hbase中配置-Java环境变量"><a href="#在Hbase中配置-Java环境变量" class="headerlink" title="在Hbase中配置 Java环境变量"></a>在Hbase中配置 Java环境变量</h3><ul>
<li>JAVA_HOME</li>
</ul>
<blockquote>
<p><code>echo $JAVA_HOME</code></p>
<p>我的 ： /usr/lib/jvm/java-8-openjdk-amd64</p>
</blockquote>
<ul>
<li><strong>修改</strong>Hbase的配置</li>
</ul>
<blockquote>
<p><strong>在 HBase的文件目录下，conf文件夹中放的是配置文件</strong></p>
<p>我的：/usr/local/hbase-2.2.7/conf</p>
<p><code>vim /usr/local/hbase-2.2.7/conf/hbase-env.sh</code></p>
<p>第一项：</p>
<p>/usr/lib/jvm/java-1.8.0-openjdk-amd64</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2oi3wk3x1j20vo026t8v.jpg" alt="image-20220528224520435"></p>
<p>第二项：</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2oi8r8tkkj20vo01yglu.jpg" alt="image-20220528225002522"></p>
</blockquote>
<ul>
<li>生效</li>
</ul>
<blockquote>
<p><code>source /usr/local/hbase-2.2.7/conf/hbase-env.sh</code></p>
</blockquote>
<h3 id="在-etc-profile文件中配置"><a href="#在-etc-profile文件中配置" class="headerlink" title="在/etc/profile文件中配置"></a>在/etc/profile文件中配置</h3><ul>
<li>HBASE_HOME</li>
</ul>
<blockquote>
<p><code>vim /etc/profile</code></p>
</blockquote>
<ul>
<li>添加两行</li>
</ul>
<blockquote>
<p>我的 ：/usr/local/hbase-2.2.7</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2oic9nn88j20vo02aweo.jpg" alt="image-20220528225324894"></p>
</blockquote>
<ul>
<li>生效</li>
</ul>
<blockquote>
<p><code>source /etc/profile</code></p>
</blockquote>
<h3 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h3><blockquote>
<p><code>hbase version</code><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2oihj74w3j20vo056t9p.jpg" alt="image-20220528225829049"></p>
</blockquote>
<hr>
<h1 id="Geomesa"><a href="#Geomesa" class="headerlink" title="Geomesa"></a>Geomesa</h1><h2 id="Geomesa安装"><a href="#Geomesa安装" class="headerlink" title="Geomesa安装"></a>Geomesa安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget &quot;https://github.com/locationtech/geomesa/releases/download/geomesa-3.4.0/geomesa-hbase_2.11-3.4.0-bin.tar.gz&quot;</span><br><span class="line">tar -xvf geomesa-hbase-dist_2.11-3.4.0-bin.tar.gz </span><br><span class="line">cd geomesa-hbase-dist_2.11-3.4.0</span><br></pre></td></tr></table></figure>

<h2 id="Geomesa配置"><a href="#Geomesa配置" class="headerlink" title="Geomesa配置"></a>Geomesa配置</h2><h3 id="在Geomesa中配置HBase环境变量"><a href="#在Geomesa中配置HBase环境变量" class="headerlink" title="在Geomesa中配置HBase环境变量"></a>在Geomesa中配置HBase环境变量</h3><ul>
<li><strong>添加</strong>HBase和Geomesa的配置</li>
</ul>
<blockquote>
<p><strong>在 HBase的文件目录下，conf文件夹中放的是配置文件</strong></p>
<p>我的：/usr/local/geomesa-hbase_2.11-3.4.0/conf</p>
<p><code>vim /usr/local/geomesa-hbase_2.11-3.4.0/conf/geomesa-env.sh</code></p>
<p>![image-20220528235844844](/Users/bingxueg/Library/Application Support/typora-user-images/image-20220528235844844.png)</p>
</blockquote>
<ul>
<li>安装依赖</li>
</ul>
<blockquote>
<p><code>/usr/local/geomesa-hbase_2.11-3.4.0/bin</code></p>
<p><code>./install-dependencies.sh</code></p>
</blockquote>
<ul>
<li>拷贝jar包至hbase lib安装目录下</li>
</ul>
<blockquote>
<p><code>cp -r /usr/local/geomesa-hbase_2.11-3.4.0/dist/hbase/geomesa-hbase-distributed-runtime-hbase2_2.11-3.4.0.jar  /usr/local/hbase-2.2.7/lib/</code></p>
</blockquote>
<ul>
<li>生效</li>
</ul>
<blockquote>
<p><code>source /usr/local/geomesa-hbase_2.11-3.4.0/conf/geomesa-env.sh</code></p>
</blockquote>
<h3 id="在-etc-profile文件中配置-1"><a href="#在-etc-profile文件中配置-1" class="headerlink" title="在/etc/profile文件中配置"></a>在/etc/profile文件中配置</h3><ul>
<li>HBASE_HOME</li>
</ul>
<blockquote>
<p><code>vim /etc/profile</code></p>
</blockquote>
<ul>
<li>添加两行（上文已经加入两行）</li>
</ul>
<blockquote>
<p>我的 ：/usr/local/geomesa-hbase_2.11-3.4.0</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2ok2qmabxj20vo04uaar.jpg" alt="image-20220528235327812"></p>
<p>（注：在此配置GeoMesa的环境变量一定要用GEOMESA_HBASE_HOME，在官方文档中记载需要用“GEOMESA_HOME”，但是这个是错的，应该是“GEOMESA_HBASE_HOME”）</p>
</blockquote>
<ul>
<li>生效</li>
</ul>
<blockquote>
<p><code>source /etc/profile</code></p>
</blockquote>
<h3 id="在外部环境中配置环境变量"><a href="#在外部环境中配置环境变量" class="headerlink" title="在外部环境中配置环境变量"></a>在外部环境中配置环境变量</h3><ul>
<li>.bashrc</li>
</ul>
<blockquote>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2ojirrbjxj20ps01ugll.jpg" alt="image-20220528233416070"></p>
<p><code>vim /root/.bashrc</code></p>
</blockquote>
<ul>
<li>添加四行</li>
</ul>
<blockquote>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2okdugluaj20vo05kdgq.jpg" alt="image-20220529000408469"></p>
</blockquote>
<h3 id="验证-1"><a href="#验证-1" class="headerlink" title="验证"></a>验证</h3><p><code>hbase version</code></p>
<p><code>geodes-hbase version</code></p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2okaxpxr0j20vo0f6jv4.jpg" alt="image-20220529000120364"></p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/164640607">https://zhuanlan.zhihu.com/p/164640607</a></p>
<hr>
<h1 id="测试geomesa-tutorials"><a href="#测试geomesa-tutorials" class="headerlink" title="测试geomesa-tutorials"></a>测试geomesa-tutorials</h1><p>(<a target="_blank" rel="noopener" href="http://www.geomesa.org/documentation/tutorials/geomesa-quickstart-hbase.html">http://www.geomesa.org/documentation/tutorials/geomesa-quickstart-hbase.html</a>)</p>
<h2 id="下载-amp-编译geomesa-tutorials"><a href="#下载-amp-编译geomesa-tutorials" class="headerlink" title="下载&amp;编译geomesa-tutorials"></a>下载&amp;编译geomesa-tutorials</h2><ul>
<li>下载</li>
</ul>
<blockquote>
<p><code>$ git clone https://github.com/geomesa/geomesa-tutorials.git</code></p>
</blockquote>
<ul>
<li>进入geomesa-tutorials编译</li>
</ul>
<blockquote>
<p><code>mvn clean install -pl geomesa-quickstart-hbase</code></p>
<p><code> mvn clean install -pl geomesa-tutorials-hbase/geomesa-tutorials-hbase-quickstart -am</code> (too much time 16min)</p>
<p>(mvn安装：<code>apt-get install maven</code>）</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2p9pmwroej212w0dqwh3.jpg" alt="image-20220529144026396"></p>
</blockquote>
<h2 id="运行程序"><a href="#运行程序" class="headerlink" title="运行程序"></a>运行程序</h2><ul>
<li>找到jar包</li>
</ul>
<blockquote>
<p>geomesa-tutorials-hbase-quickstart-3.5.0-SNAPSHOT.jar</p>
</blockquote>
<blockquote>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2pazvd10nj21h604i75w.jpg" alt="image-20220529152452253"></p>
</blockquote>
<ul>
<li>运行指令</li>
</ul>
<blockquote>
<p><code>java -cp /usr/local/geomesa-tutorials/geomesa-tutorials-hbase/geomesa-tutorials-hbase-quickstart/target/geomesa-tutorials-hbase-quickstart-3.5.0-SNAPSHOT.jar org.geomesa.example.hbase.HBaseQuickStart --hbase.zookeepers localhost --hbase.catalog test_Harper</code></p>
<p>说明：–hbase.zookeepers填zookeeper的位置，在单机模式下，这个值为localhost</p>
<p>​        –hbase.catalog 填目录的名称，用于存放测试数据</p>
<p>【错误:”Exception in thread “main” java.lang.UnsupportedClassVersionError: org/geomesa/example/hbase/HBaseQuickStart : Unsupported major.minor version 52.0” ——Java版本问题】</p>
<p>【解决：/etc/profile 加入Java路径】</p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2pbznziqsj21hc07ktaa.jpg" alt="image-20220529155916557"></p>
</blockquote>
<ul>
<li>成功结果</li>
</ul>
<blockquote>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2pceknj9ij21hc0e6gpb.jpg" alt="image-20220529161336521"></p>
<p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2pc28pbf4j21hc0g2gq7.jpg" alt="image-20220529160145567"></p>
</blockquote>
<p><em>Docker hub bingxuegu1997/geomesa-hbase:1.0</em></p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><em></em><a class="button is-default" href="/2022/05/22/%5BTools%5DVScode/" title="VScode"><span class="has-text-weight-semibold">Next: VScode</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="bingxue-Gu/bingxue-gu.github.io" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/bingxue-Gu"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com/bingxuegu/"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><a title="zhihu" target="_blank" rel="noopener nofollow" href="//zhihu.com/people/nian-nian-bu-wang-bi-you-hui-xiang-32"><i class="iconfont icon-zhihu"></i></a><!-- 领英--><!-- 脸书--></section><p><span>Copyright ©</span><span> bingxue-Gu 2022</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>